<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Script Debugger</title>
    <style>
        body {
            font-family: -apple-system, system-ui, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        input,
        button,
        textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        button {
            background: #007AFF;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
        }

        button:hover {
            background: #0056b3;
        }

        #status {
            padding: 10px;
            border-radius: 6px;
            display: none;
        }

        .success {
            background: #d4edda;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>

<body>
    <h2>üïµÔ∏è‚Äç‚ôÇÔ∏è Antigravity Debugger</h2>
    <p>–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à—É —Å—Å—ã–ª–∫—É Script URL (–∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ /exec):</p>
    <input type="text" id="urlInput" placeholder="https://script.google.com/.../exec">

    <p>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:</p>
    <textarea id="payload" rows="5">
{
  "date": "2026-02-01",
  "calories": 999,
  "proteins": 10,
  "fats": 10,
  "carbs": 10,
  "test_mode": true
}</textarea>

    <button onclick="sendTest()">üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>

    <div id="status"></div>

    <script>
        async function sendTest() {
            const url = document.getElementById('urlInput').value.trim();
            const statusDiv = document.getElementById('status');

            if (!url) {
                showStatus('–í–≤–µ–¥–∏—Ç–µ URL!', 'error');
                return;
            }

            statusDiv.style.display = 'block';
            statusDiv.className = '';
            statusDiv.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞... ‚è≥';

            try {
                // Post to the script using 'no-cors' needed for simple fetch, 
                // but usually Google Scripts return redirects.
                // We use standard fetch with redirect: follow
                const response = await fetch(url, {
                    method: 'POST',
                    mode: 'no-cors', // –í–∞–∂–Ω–æ –¥–ª—è Google Script –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: document.getElementById('payload').value
                });

                showStatus('‚úÖ –ó–∞–ø—Ä–æ—Å —É—à–µ–ª! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É debug_log –≤ —Ç–∞–±–ª–∏—Ü–µ. –ï—Å–ª–∏ —Ç–∞–º –ø–æ—è–≤–∏–ª–∞—Å—å –∑–∞–ø–∏—Å—å "999 calories" ‚Äî —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.', 'success');

            } catch (error) {
                showStatus('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ' + error.message, 'error');
            }
        }

        function showStatus(text, type) {
            const el = document.getElementById('status');
            el.textContent = text;
            el.className = type;
            el.style.display = 'block';
        }
    </script>
</body>

</html>